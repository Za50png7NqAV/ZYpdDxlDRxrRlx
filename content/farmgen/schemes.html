<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Schemes toml Tools Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #f2f4f8;
      padding: 30px 15px;
      margin: 0;
    }
    h2, h3 { color: #333; }
    .container {
      max-width: 600px;
      margin: auto;
      background: white;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
    }
    label { font-weight: 600; margin-top: 10px; display: block; }
    select, textarea, button {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }
    select:focus, textarea:focus {
      border-color: #1a73e8;
      outline: none;
    }
    button {
      background-color: #08036a;
      color: white;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
    }
    button:hover { opacity: 0.8; }
    .delbtn { width:20px; }
    .entry {
      background-color: #f9f9f9;
      padding: 15px;
      border-radius: 8px;
      margin-top: 15px;
      position: relative;
      border-left: 4px solid #1a73e8;
    }
    .entry strong { color: #1a73e8; }
    .entry button {
      position: absolute;
      top: 10px;
      right: 10px;
      padding: 4px 10px;
      background: #e53935;
      border: none;
      border-radius: 4px;
      font-size: 12px;
      cursor: pointer;
    }
    .button-row {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .button-row button {
      padding: 6px 12px;
      font-size: 14px;
      border-radius: 6px;
      border: none;
      background-color: red;
      color: white;
      cursor: pointer;
      transition: background-color 0.2s ease;
    }
    .button-row button:nth-child(2) { background-color: green; }
    .output-box {
      background: #f1f1f1;
      padding: 15px;
      margin-top: 15px;
      border-radius: 8px;
      white-space: pre-wrap;
      font-family: monospace;
      color: #333;
    }
    .hidden { display: none; }
    @media (max-width: 600px) {
      .container { padding: 20px 15px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>YP Schemes Tools</h2>

    <label for="typeSelector">Select Type</label>
    <select id="typeSelector"></select>

    <div id="formArea" class="hidden">
      <label id="selectedLabel"></label>
      <textarea id="inputText" rows="4" placeholder="Enter details here..."></textarea>
      <div class="button-row">
        <button onclick="clearTextarea()">Clear</button>
        <button onclick="addEntry()">+Add</button>
      </div>
    </div>

    <h3>Added Entries</h3>
    <div id="entriesContainer"></div>

    <div class="button-row">
      <button onclick="deleteAllEntries()">ðŸ—‘ Delete All</button>
      <button onclick="generateOutput()">âœ… Generate</button>
    </div>

    <div id="outputSection" class="hidden">
      <h3>Output</h3>
      <div id="outputBox" class="output-box"></div>
      <button onclick="copyOutput()">Copy</button>
    </div>
  </div>

  <script>
    const STORAGE_KEY = "yp_admission_entries";
    const typeSelector = document.getElementById("typeSelector");
    const formArea = document.getElementById("formArea");
    const selectedLabel = document.getElementById("selectedLabel");
    const inputText = document.getElementById("inputText");
    const entriesContainer = document.getElementById("entriesContainer");
    const outputBox = document.getElementById("outputBox");
    const outputSection = document.getElementById("outputSection");

    const allOptions = [
      "title", "type", "post_type",  "SchemeName", "seo_title", "activedate", "Department", "OfficialSource",  "category", "YojnaName" , "Whatis" ,  "description", "State", "objective", "benefits" ,  "eligibility", "conclusion", "summary", "impdates", "documents", "how_to",  "how_to_offline", "faqs",  "keywords", "InnerPost",   "imageBanner", "cssStyles",   "begindate",  "shortinfo", "lastdate", "ResultName",  "content_html","pdfName" 
    ];

    const defaultTexts = {
      type: "Scheme",
      Whatis: "à¤¯à¥‹à¤œà¤¨à¤¾ à¤•à¥‡ à¤¬à¤¾à¤°à¥‡à¤‚ à¤¸à¤‚à¤·à¥à¤¿à¤ªà¤¤ à¤œà¤¾à¤¨à¤•à¤¾à¤°à¥€" ,
      activedate: "2025-12-31",
      post_type: "schemes",
      eligibility: `
      à¤¨à¤¿à¤µà¤¾à¤¸à¥€à¤ƒ à¤†à¤µà¥‡à¤¦à¤• à¤®à¤§à¥à¤¯à¤ªà¥à¤°à¤¦à¥‡à¤¶ à¤•à¤¾ à¤¨à¤¿à¤µà¤¾à¤¸à¥€ à¤¹à¥‹à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤
      à¤†à¤¯à¥ à¤¸à¥€à¤®à¤¾à¤ƒ 18 à¤µà¤°à¥à¤· à¤¸à¥‡ à¤…à¤§à¤¿à¤• à¤†à¤¯à¥ à¤•à¤¾ à¤¹à¥‹à¤¨à¤¾ à¤šà¤¾à¤¹à¤¿à¤
      ` ,
      content_html: "can use html" ,
      category: "Schemes",
      imageBanner: "#",
      OfficialSource: "https://yojnaportal.com/",
      cssStyles: "css/posts/scheme.css",
      InnerPost: " à¤†à¤µà¤¦à¥‡à¤¨ à¥¤ à¤¤à¤¿à¤¥à¤¿à¤¯à¤¾ | à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾ à¥¤ à¤®à¤¹à¤¤à¥à¤¤à¤ªà¥‚à¤°à¥à¤£ à¤²à¤¿à¤‚à¤•",
      faqs:  `à¤…à¤•à¥à¤¸à¤° à¤ªà¥‚à¤‚à¤›à¥‡ à¤œà¤¾à¤¨à¥‡à¤‚ à¤µà¤¾à¤²à¥‡ à¤ªà¥à¤°à¤¶à¥à¤¨
       à¤ªà¥à¤°à¤¶à¤¨à¤ƒ à¤‰à¤¤à¥à¤°` ,
      how_to: `
      à¤†à¤§à¤¿à¤•à¤¾à¤°à¤¿à¤• à¤µà¥‡à¤¬à¤¸à¤¾à¤‡à¤Ÿ à¤ªà¤° à¤œà¤¾à¤à¤‚:
      à¤¨à¤µà¥€à¤¨à¤¤à¤® à¤¨à¥‹à¤Ÿà¤¿à¤«à¤¿à¤•à¥‡à¤¶ à¤ªà¤¢à¥‡:
      Candidate Online Form à¤¸à¥‡à¤•à¥à¤¶à¤¨ à¤®à¥‡à¤‚ à¤œà¤¾à¤à¤‚:
      à¤°à¤œà¤¿à¤¸à¥à¤Ÿà¥à¤°à¥‡à¤¶à¤¨ à¤•à¤°à¥‡à¤‚:
      à¤†à¤µà¥‡à¤¦à¤¨ à¤«à¥‰à¤°à¥à¤® à¤­à¤°à¥‡à¤‚:
      à¤«à¥€à¤¸ à¤•à¤¾ à¤­à¥à¤—à¤¤à¤¾à¤¨ à¤•à¤°à¥‡à¤‚:
      à¤†à¤µà¥‡à¤¦à¤¨ à¤ªà¤¤à¥à¤° à¤ªà¥à¤°à¤¿à¤‚à¤Ÿ à¤•à¤°à¥‡à¤‚:` ,
      
      shortinfo:  `
      à¤¯à¥‹à¤œà¤¨à¤¾ à¤•à¤¾ à¤¨à¤¾à¤®à¤ƒ
      à¤¶à¥à¤°à¥‚ à¤•à¤°à¤¨à¥‡ à¤µà¤¾à¤²à¤¾à¤ƒ
      à¤ªà¥à¤°à¤¾à¤°à¤‚à¤­ à¤¦à¤¿à¤¨à¤¾à¤‚à¤•à¤ƒ
      à¤®à¥à¤–à¥à¤¯ à¤ªà¥à¤°à¤¦à¥‡à¤¶à¤ƒ  
      à¤ªà¥à¤°à¤­à¤¾à¤µà¥€ à¤·à¥à¤•à¥‡à¤¤à¥à¤°à¤ƒ
      à¤†à¤µà¤¶à¥à¤¯à¤•à¤¤à¤¾à¤ƒ 
      à¤†à¤µà¤¦à¥‡à¤¨ à¤ªà¥à¤°à¤•à¤¿à¤¯à¤¾à¤ƒ à¤‘à¤¨à¤²à¤¾à¤‡à¤¨/à¤‘à¤«à¤²à¤¾à¤‡à¤¨
      à¤†à¤µà¥‡à¤¦à¤¨ à¤¤à¤¿à¤¥à¤¿à¤ƒ` ,
     documents: `
     à¤¶à¥ˆà¤•à¥à¤·à¤¿à¤£à¤¿à¤• à¤¯à¥‹à¤—à¥à¤¯à¤¤à¤¾
     10à¤µà¥€à¤‚ à¤…à¤•à¤¸à¥‚à¤šà¥€
     à¤†à¤§à¤¾à¤° à¤•à¤¾à¤°à¥à¤¡
     à¤®à¥‹à¤¬à¤¾à¤‡à¤² à¤¨à¤‚à¤¬à¤° à¤à¤µà¤‚ à¤ˆà¤®à¥‡à¤² à¤†à¤ˆ à¤¡à¥€
     à¤«à¥‹à¤Ÿà¥‹ à¤à¤µà¤‚ à¤¹à¤¸à¥à¤¤à¤¾à¤•à¥à¤·à¤°`,
       age_limit: `
       à¤¨à¥à¤¯à¥‚à¤¨à¤¤à¤® à¤†à¤¯à¥à¤ƒ
       à¤…à¤§à¤¿à¤•à¤¤à¤® à¤†à¤¯à¥à¤ƒ`
    };

    let entries = [];

    window.onload = () => {
      loadEntriesFromStorage();
      populateDropdown();
    };

    function populateDropdown() {
      typeSelector.innerHTML = "";
      const available = allOptions.filter(opt => !entries.find(e => e.type === opt));
      available.forEach(opt => {
        const option = document.createElement("option");
        option.value = opt;
        option.textContent = opt;
        typeSelector.appendChild(option);
      });
      if (available.length > 0) {
        typeSelector.selectedIndex = 0;
        showForm();
      } else {
        formArea.classList.add("hidden");
      }
    }

    function showForm() {
      const selected = typeSelector.value;
      selectedLabel.textContent = "Selected: " + selected;
      inputText.value = defaultTexts[selected] || "";
      formArea.classList.remove("hidden");
    }

    typeSelector.addEventListener("change", showForm);

    function addEntry() {
      const type = typeSelector.value;
      const text = inputText.value.trim();
      if (!text) return alert("Please enter some text.");
      if (!type) return alert("Please select a type.");
      entries.push({ type, text });
      saveEntriesToStorage();

      const entryDiv = document.createElement("div");
      entryDiv.className = "entry";
      entryDiv.innerHTML = `
        <strong>${type}</strong> = "${text}"
        <button class="delbtn" onclick="deleteEntry(this, '${type}')">X</button>
      `;
      entriesContainer.appendChild(entryDiv);
      populateDropdown();
    }

    function deleteEntry(btn, type) {
      entries = entries.filter(e => e.type !== type);
      saveEntriesToStorage();
      btn.parentElement.remove();
      populateDropdown();
    }

    function deleteAllEntries() {
      if (confirm("Are you sure you want to delete all entries?")) {
        entries = [];
        localStorage.removeItem(STORAGE_KEY);
        entriesContainer.innerHTML = "";
        populateDropdown();
        outputSection.classList.add("hidden");
      }
    }

    function generateOutput() {
  if (entries.length === 0) return alert("No entries added.");

  const forceArrayTypes = [
    "impdates", "Whatis", "eligibility", "cssstyles", "how_to_offline" , "age_limit",
    "importantdates", "applyfees", "qualification", "conclusion", "keywords",
    "how_to", "faqs", "content_html" , "documents", "shortinfo"
  ];

  let result = entries.map(entry => {
    const { type, text } = entry;
    const typeKey = type.toLowerCase();
    const isForceArray = forceArrayTypes.includes(typeKey);
    const isMultiLine = isForceArray || text.includes("\n") || text.trim() === "///";

    if (isMultiLine) {
      const lines = text
        .split("\n")
        .map(line => line.trim())
        .filter(line => line !== "")
        .map(line => `"${line}"`); // ðŸŸ¢ No escaping here
      return `${type} = [\n  ${lines.join(",\n  ")}\n]`;
    } else {
      const containsQuote = text.includes('"') || text.includes("'");
      const cleanText = text.replace(/"""/g, `'''`);
      if (containsQuote) {
        return `${type} = """ ${cleanText} """`;
      } else {
        return `${type} = "${text}"`;
      }
    }
  }).join("\n\n");

  outputBox.textContent = result;
  outputSection.classList.remove("hidden");
}


    function copyOutput() {
      navigator.clipboard.writeText(outputBox.textContent).then(() => {
        alert("Copied to clipboard!");
      });
    }

    function clearTextarea() {
      inputText.value = "";
    }

    function saveEntriesToStorage() {
      localStorage.setItem(STORAGE_KEY, JSON.stringify(entries));
    }

    function loadEntriesFromStorage() {
      const saved = localStorage.getItem(STORAGE_KEY);
      if (saved) {
        entries = JSON.parse(saved);
        entries.forEach(({ type, text }) => {
          const entryDiv = document.createElement("div");
          entryDiv.className = "entry";
          entryDiv.innerHTML = `
            <strong>${type}</strong> = "${text}"
            <button class="delbtn" onclick="deleteEntry(this, '${type}')">X</button>
          `;
          entriesContainer.appendChild(entryDiv);
        });
      }
    }
  </script>
</body>
</html>
